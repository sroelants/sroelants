(window["webpackJsonpwhatisthis-react"]=window["webpackJsonpwhatisthis-react"]||[]).push([[0],{21:function(e,t,n){e.exports=n(42)},26:function(e,t,n){},27:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),l=n(16),r=n.n(l),c=(n(26),n(27),n(5)),i=n(3),s=n(6),u=n(7),d=n(1),m=n(8),h=n(9),p=n.n(h),f=(n(29),n(30),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).content=e.content,n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){p.a.highlightAll()}},{key:"render",value:function(){return o.a.createElement("div",{className:"codesnippet"},o.a.createElement("pre",{className:"lang-js"},o.a.createElement("code",{className:"lang-js codesnippet__content"},this.content)))}}]),t}(o.a.PureComponent)),E=(n(31),function(e){return o.a.createElement("button",{className:"button options__button",onClick:e.answerHandler}," ",e.label," ")}),b=(n(32),function(e){var t=e.options.map(function(t,n){return o.a.createElement(E,{label:t,key:n,answerHandler:e.answerHandler(t)})});return o.a.createElement("div",{className:"button-panel"},t)}),w=n(17),v=n.n(w),g=n(19),x=n.n(g),y=(n(33),function(e){var t=e.type,n=e.clickHandler;return function(e){switch(e){case"explanation":return o.a.createElement("button",{className:"button modal__button",onClick:n},o.a.createElement(v.a,{className:"modal__button__helper-icon",variant:"Explanation"}),o.a.createElement("span",{className:"modal__button__text"},"I don't get it."));case"next":return o.a.createElement("button",{className:"button modal__button",onClick:n},o.a.createElement(x.a,{className:"modal__button__helper-icon",variant:"Next"}),o.a.createElement("span",{className:"modal__button__text"},"Give me another one!"));default:return null}}(t)}),k=(n(39),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).type=e.type,n.content=e.content,n.closeModal=e.closeHandler,n.explanationHandler=e.explanationHandler,n.nextHandler=e.nextHandler,n.buttons=n.buttons.bind(Object(d.a)(n)),n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"buttons",value:function(e){switch(e){case"answer":return o.a.createElement("div",{className:"modal__options"},o.a.createElement(y,{type:"explanation",clickHandler:this.explanationHandler}),o.a.createElement(y,{type:"next",clickHandler:this.nextHandler}));case"explanation":return o.a.createElement("div",{className:"modal__options"},o.a.createElement(y,{type:"next",clickHandler:this.nextHandler}));default:return null}}},{key:"componentDidMount",value:function(){p.a.highlightAll()}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"mask"}),o.a.createElement("div",{className:"modal"},o.a.createElement("button",{className:"modal__close",onClick:this.closeModal},o.a.createElement("span",{role:"img","aria-label":"close"},"\u274c")),this.content,this.buttons(this.type)))}}]),t}(o.a.Component)),j=[{codesnippet:"\n'use strict';\n\nfunction fun(a, b) {\n  return a + b;\n}\nconsole.log(this);\n    ",options:["window","undefined","fun","console"],correct:"window",explanation:o.a.createElement("div",null,o.a.createElement("h1",null," Explanation "),o.a.createElement("p",null,"In a global context (ie. when not referenced within the body of a function declaration),"," ",o.a.createElement("code",null,"this")," ","always refers to the global object, in this case"," ",o.a.createElement("code",null,"window")," ",". This remains true whether javascript is running in strict mode or not."))},{codesnippet:"\nvar obj = {\n  data: 5\n};\n\nfunction myFun() {\n  return this\n}\n\nobj.fun = myFun;\nconsole.log(obj.fun());\n    ",options:["window","undefined","myFun","obj"],correct:"obj",explanation:o.a.createElement("div",null,o.a.createElement("h1",null," Explanation "),o.a.createElement("p",null,o.a.createElement("code",null,"this")," ","refers to the",o.a.createElement("em",null,"execution")," ","context. It completely disregards the lexical context of where the keyword is used within the program code. In this instance, the function body is run as a method on the object",o.a.createElement("code",null,"obj")," ",", so the execution context sets",o.a.createElement("code",null,"this")," ","to",o.a.createElement("code",null,"obj")," "))},{codesnippet:"\nvar obj = {\n  data: 5\n  myMethod: function(a, b) {\n    console.log(this);\n    return a + b;\n  }\n};\nvar myFun = obj.myMethod;\nmyFun(1,2);\n    ",options:["window","undefined","myFun","obj"],correct:"window",explanation:o.a.createElement("div",null,o.a.createElement("h1",null," Explanation "),o.a.createElement("p",null,o.a.createElement("code",null,"this")," ","refers to the",o.a.createElement("em",null,"execution")," ","context of a function. Even though",o.a.createElement("code",null,"myFun")," ","is a reference to the",o.a.createElement("code",null,"myMethod")," ","method on",o.a.createElement("code",null,"obj"),", it is"," ",o.a.createElement("em",null,"executed")," ","as a top-level function. Hence, the execution context is set to"," ",o.a.createElement("code",null,"window")," ","(How would this change if we set"," ",o.a.createElement("code",null,"'use strict;'"),"?)"))},{codesnippet:'\nvar luke = {\n  name: "Luke",\n  greet: function() {\n    console.log("My name is" + this.name);\n  }\n};\nvar mike = Object.create(luke);\nmike.name = "Mike";\nmike.greet();\n    ',options:["window","undefined","mike","luke"],correct:"mike",explanation:o.a.createElement("div",null,o.a.createElement("h1",null," Explanation "),o.a.createElement("p",null,"Even though"," ",o.a.createElement("code",null,"mike")," ","doesn't have a"," ",o.a.createElement("code",null,"greet()")," ","method set, it inherits it from the"," ",o.a.createElement("code",null,"luke")," ","prototype. Since"," ",o.a.createElement("code",null,"this")," ","refers to the execution context, not the lexical context (where it is defined), it refers to",o.a.createElement("code",null,"mike"),", not"," ",o.a.createElement("code",null,"luke"),"."))},{codesnippet:'\n\'use strict\';\nfunction highFives(name) {\n  console.log(this + "high fives " + name + "!");\n}\n\nhighFives.call("Mike", "Putin");\n    ',options:["Mike","undefined","Putin","window"],correct:"Mike",explanation:o.a.createElement("div",null,o.a.createElement("h1",null," Explanation "),o.a.createElement("p",null,"The"," ",o.a.createElement("code",null,".call()")," ","method, defined for function objects, allows one to explicitely pass a value for"," ",o.a.createElement("code",null,"this")," ","as its first argument. Note that"," ",o.a.createElement("code",null,"this")," ","need not refer to a javascript object, but can be any datatype, even a string or an integer."," ",o.a.createElement("em",null,"Fun fact:")," ","All function calls, behind the screens, are transformed by javascript to an invocation of the",o.a.createElement("code",null,"call()")," ","method. Running a top-level function"," ",o.a.createElement("code",null,"fun()")," ","is translated by javascript to"," ",o.a.createElement("code",null,"fun.call(window)")," ","(or",o.a.createElement("code",null,"fun.call(undefined)")," ",", if we are in strict mode."))},{codesnippet:'\nlet mascot = {\n  name: "Tony the Tiger",\n  printMood: function(mood) {\n    console.log(this.name + " is feeling " + mood);\n  }\n}\n\nlet printEmotionalState = function(state){ \n  return mascot.printMood.call(mascot, state);\n}\n\nprintEmotionalState("meh.")\n    ',options:["mascot","undefined","Tony the Tiger","window"],correct:"mascot",explanation:o.a.createElement("div",null,o.a.createElement("h1",null," Explanation "),o.a.createElement("p",null,"This one is tricky."," ",o.a.createElement("code",null,"printEmotionalState")," ","is a top-level function that is called in a global context, so we would expect"," ",o.a.createElement("code",null,"this")," ","to refer to the",o.a.createElement("code",null,"window")," ","object. However,",o.a.createElement("code",null,"printEmotionalState")," ","invokes",o.a.createElement("code",null,"mascot.printMood")," ",o.a.createElement("em",null," ","using the"," ",o.a.createElement("code",null,"call")," ","method"," ")," ","and binding"," ",o.a.createElement("code",null,"this")," ","back to"," ",o.a.createElement("code",null,"mascot")," ","explicitely!"))},{codesnippet:'\n\'use strict\';\nfunction Simpson(name) {\n  this.name = "Lisa";\n}\n\nfunction Flanders(name) {\n  this.name = name;\n  return {name: "Todd"};\n}\nlet bart = new Simpson("Bart");\nlet rod = new Flanders("Rod");\nconsole.log(bart.name + " and " + rod.name); // What is printed?\n',options:["Bart and Rod","Lisa and Todd","Lisa and Rod","Bart and Todd"],correct:"Lisa and Todd",explanation:o.a.createElement("div",null,o.a.createElement("h1",null," Explanation "),o.a.createElement("p",null,"This is a trick question that has more to do with constructors than it does with"," ",o.a.createElement("code",null,"this"),". In a typical constructor call (that is, a function that is called with the"," ",o.a.createElement("code",null,"new")," ","keyword and returns an object), the the"," ",o.a.createElement("code",null,"this")," ","keyword refers to the newly created object, and is returned by the constructor call.",o.a.createElement("em",null,"But"),", if we wanted to, we can make the constructor return"," ",o.a.createElement("em",null,"any")," ","object we wish by explicitely adding a"," ",o.a.createElement("code",null,"return")," ","statement returning an object. In this case, the"," ",o.a.createElement("code",null,"Flanders")," ","constructor creates a new Flanders instance with"," ",o.a.createElement("code",null,"name")," ",'set to "Rod", but'," ",o.a.createElement("em",null,"instead")," ","returns a different object, with",o.a.createElement("code",null,"name")," ",'set to "Todd". The creation of the first object is essentially for nothing.'))}],_=o.a.createElement("div",null,o.a.createElement("h1",null,"An educational game for beginning JS developers"),o.a.createElement("p",null,"For a long time, javascript was considered a confusing, poorly designed programming language that has far outgrown its domain of use. With the newer ECMA specifications (ES6 and above), many of these gripes are becoming a thing of the past."),o.a.createElement("p",null,"One thing that has not changed, however, is javascript's implementation of the"," ",o.a.createElement("code",null,"this")," ","keyword that seemingly differs from how most other languages have implemented it. To say that"," ",o.a.createElement("code",null,"this"),o.a.createElement("a",{href:"https://codeburst.io/all-about-this-and-new-keywords-in-javascript-38039f71780c",target:"_blank",rel:"noopener noreferrer"}," ","is a"," "),o.a.createElement("a",{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this",target:"_blank",rel:"noopener noreferrer"}," ","stumbling block"," "),o.a.createElement("a",{href:"https://stackoverflow.com/questions/3127429/how-does-the-this-keyword-work",target:"_blank",rel:"noopener noreferrer"}," ","for many"," "),o.a.createElement("a",{href:"https://dmitripavlutin.com/gentle-explanation-of-this-in-javascript/",target:"_blank",rel:"noopener noreferrer"}," ","javascript beginners"," "),"would be an understatement."),o.a.createElement("p",null," ","This page will not go into a detailed explanation of the inner workings of the"," ",o.a.createElement("code",null,"this")," ","keyword. There's plenty of those to be found online (I list some references at the bottom). Instead, I will try to give a short explanation with every code example of what exactly is happening."),o.a.createElement("p",null,"The idea for this site came up in a discussion on the",o.a.createElement("a",{href:"https://syntax.fm/show/162/the-fundamentals-js",target:"_blank",rel:"noopener noreferrer"}," ","Syntax podcast")," ","on javascript fundamentals. I highly recommend the podcast to anyone starting out in front end development!"),o.a.createElement("p",null,"Some references, in no particular order"),o.a.createElement("dl",null,o.a.createElement("dt",null,o.a.createElement("a",{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this",target:"_blank",rel:"noopener noreferrer"},"MDN documentation")),o.a.createElement("dd",null,"As always, the MDN docs should be the first place to go to."),o.a.createElement("dt",null,o.a.createElement("a",{href:"http://www.digital-web.com/articles/scope_in_javascript/",target:"_blank",rel:"noopener noreferrer"},"Mike West on javascript scope")),o.a.createElement("dd",null,"This article explains the mechanics of"," ",o.a.createElement("code",null,"this")," ","in the wider context of javascript scoping."),o.a.createElement("dt",null,o.a.createElement("a",{href:"https://dmitripavlutin.com/gentle-explanation-of-this-in-javascript/",target:"_blank",rel:"noopener noreferrer"},"Gentle explanation of"," ",o.a.createElement("code",null,"this")," ","keyword in javascript")),o.a.createElement("dd",null,"A long but excellent and detailed description by Dmitri Pavlutin."))),M=o.a.createElement("div",null,o.a.createElement("h1",null,"Correct!"),o.a.createElement("p",null,"You seem to be getting a hang of it. Or was it just a fluke?")),H=o.a.createElement("div",null,o.a.createElement("h1",null,"Wrong!"),o.a.createElement("p",null," Looks like you're still unclear about some things."));n(40);function O(){return j[Math.floor(Math.random()*j.length)]}var N=function(e){function t(e){var n;Object(c.a)(this,t),n=Object(s.a)(this,Object(u.a)(t).call(this,e));var a=O();return n.state={view:"main",codesnippet:a.codesnippet,options:a.options,correct:a.correct,explanation:a.explanation},n.openAbout=n.openAbout.bind(Object(d.a)(n)),n.closeModal=n.closeModal.bind(Object(d.a)(n)),n.checkAnswer=n.checkAnswer.bind(Object(d.a)(n)),n.showExplanation=n.showExplanation.bind(Object(d.a)(n)),n.nextQuestion=n.nextQuestion.bind(Object(d.a)(n)),n.getModal=n.getModal.bind(Object(d.a)(n)),n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"getModal",value:function(e){var t=this.state.explanation;switch(e){case"correct":return o.a.createElement(k,{type:"answer",content:M,closeHandler:this.closeModal,explanationHandler:this.showExplanation,nextHandler:this.nextQuestion});case"incorrect":return o.a.createElement(k,{type:"answer",content:H,closeHandler:this.closeModal,explanationHandler:this.showExplanation,nextHandler:this.nextQuestion});case"explanation":return o.a.createElement(k,{type:"explanation",content:t,closeHandler:this.closeModal,nextHandler:this.nextQuestion,key:e});case"about":return o.a.createElement(k,{type:"about",content:_,closeHandler:this.closeModal});default:return null}}},{key:"nextQuestion",value:function(){var e=O(),t=e.codesnippet,n=e.options,a=e.correct,o=e.explanation;this.setState({view:"main",codesnippet:t,options:n,correct:a,explanation:o})}},{key:"checkAnswer",value:function(e){var t=this;return e===this.state.correct?function(){return t.setState({view:"correct"})}:function(){return t.setState({view:"incorrect"})}}},{key:"showExplanation",value:function(){this.setState({view:"explanation"}),this.forceUpdate()}},{key:"openAbout",value:function(){this.setState({view:"about"})}},{key:"closeModal",value:function(){this.setState({view:"main"})}},{key:"render",value:function(){var e=this.state,t=e.view,n=e.options,a=e.codesnippet;return o.a.createElement("div",{className:"App"},o.a.createElement("header",null,"What is ",o.a.createElement("span",{className:"header__this"},"this"),"?"),o.a.createElement("main",null,o.a.createElement(f,{key:a,content:a}),o.a.createElement(b,{options:n,answerHandler:this.checkAnswer})),o.a.createElement("footer",null,o.a.createElement("button",{type:"button",className:"footer__about",onClick:this.openAbout},"No, seriously, what is this?")),this.getModal(t))}}]),t}(o.a.Component);r.a.render(o.a.createElement(N,null),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.4363aebe.chunk.js.map